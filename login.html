<!DOCTYPE html>
<html>
  <head>
    <title>e邀网登录</title>
    <!-- Bootstrap -->
    <meta charset="utf-8" />
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet" media="screen">
    <link href="assets/styles.css" rel="stylesheet" media="screen">
     <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script src="js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>
  </head>
  <body id="login">
    <div class="container">

      <form class="form-signin" onsubmit="submitForm();return false;">
        <h2 class="form-signin-heading">登录</h2>
        <input type="text" name="username" class="input-block-level" placeholder="用户名" id="username">
        <input type="password" class="input-block-level" placeholder="密码" id="password">
        <label class="checkbox">
          <input type="checkbox" value="remember-me"> 记住密码
        </label>
        <button class="btn btn-large btn-primary" type="submit">Sign in</button>
      </form>

    </div> <!-- /container -->
    <script src="vendors/jquery-1.9.1.min.js"></script>
    <script src="bootstrap/js/bootstrap.min.js"></script>
    <script>
    function submitForm(){
        alert('status')
        var username = $.trim($('#username').val()),
            password = $.trim($('#password').val());
        $.ajax({
            url:'/api/user/login',
            method:'post',
            type:'post',
            dataType:'json',
            data:{username:username, password:password},
            success:function(data){
                if(data.status == 200){
                    window.location="/index.html";
                }else{
                    alert(data.msg || data.err || '登录失败');
                }
            }
        })
        return false;
    }
    </script>
  </body>
</html>